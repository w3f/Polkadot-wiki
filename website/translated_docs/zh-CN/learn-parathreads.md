---
id: learn-parathreads
title: 平行线程
sidebar_label: 平行线程
---

平行线程的想法是样平行链暂时(按每个区块)使用 Polkadot 的安全性而不用租用专用的平行链链插槽。这是通过在众多资源竞争(平行线程)之间经济共享稀缺的_平行链插槽_资源来实现。那些无法获取整个平利链插槽或认为在经济上不合理的链仍然能够参与 Polkadot 的共享安全 - 尽管按每个区块需要的收取相关费用。它还为不再需要使用平行链插槽，但希望继续使用中继链的链提供了良好的脱链过程。

## 起源

根据在成都的[演讲](https://v.douyu.com/show/a4Jj7llO5q47Dk01)，这个想法的起源于于80年代末和90年代早期个人电脑上有限的内存资源概念类似。由于计算机上的内存记忆体资源有限，当某个程序需要更多内存时，计算机可以在硬盘通过使用_交换空间_创建虚拟记数亿体。交换空间允许计算机内存量扩大，权衡取舍并供更多程序同时运行，某些程序需要更长的时间才能完成。

## 平行线程 vs. 平行链

平行链和平行线程在开发方面很相似。可以想象使用 Substrate 开发的链其生命周期不同时间上采取以下三种状态之一：1) 带有安全转接桥的独立链 2) 平行链或 3) 平行线程因为更多差别是在经济上的区别而不是技术上，所以它可以帮助开发者用最小工夫在这两个状态之间切换。

平行线程有着跟平行链连接 Polkadot 一样的好处。换句话说通过 ICMP 并受 Polkadot 验证人全面的经济安全保护发送信息到其它平行{链, 线程}。

平行链与平行线程在于经济。平行链必须通过 Polkadot 正常过程注册。例如治理进行或平行链插槽拍卖。平行线程具有固定的注册费用，实际上比获取平行链插槽的费用低。 跟平行链插槽锁定 DOT 的期间并随后将返回还给拍卖的赢家的方式类似，平行线程在使用过后，将押金返还给给使用方。

除了将平行线程代码注册到 Polkadot 中继链之外，注册平行线程不提供任何保证。当平行线程产生新的区块时，使用方必须支付费用参加每个区块链的拍卖，以使包含在下一个验证的中继链区块。所有已注册的平行线程都将参与拍卖，使将包含其平行线程。

有两个关于平行线程的有趣发现。第一，由于它们是逐个区块竞争，这跟比特币和以太坊处理交易相似。同样将会开发费用市场，意味着当繁忙时间使用平行线程，价格将推高，而较少人使用的时侯，费用将会较低。第二，这种机制与平行链机制明显不同，后者只要持有平行链槽保证可用，而注册平行线程没有给予此权利。

## 平行线程将如何运作？

中继链上的部分平行链槽将被指定为平行线程池的一部分。换句话说某些插槽将没有附上平行链，而是将被用作拍卖平行线程候选区块的空间，供每个区块获胜者使用。

收集人将提供以 DOT 指定的出价，以包含平行线程的候选区块。中继链出块者可以从这些出价中进行选择，以包括一个平行线程区块。显而的诱因是他们接受出价最高的区块候选人，这将使他们获得最大的利润。来自平行线程出价的代币可能会被拆分为80-20，这意味着80％将进入 Polkadot 库房，而20％将给出块者。这也同样适用于交易费用的划分，并且像 Polkadot 中的其它参数一样，可以通过治理机制进行更改。

有关平行线程协议的详细说明，请参见[此处](https://hackmd.io/UcOOzoyDR9WJpQBZICtg3Q?both#Parathread-Protocol)。

## 平行线程经济学

有两种补偿收集人的来源：

1. 假设平行线程有自己的代币系统，它将支付该币交易费用给收集人。 如果平行线程没有代币，或者其代币没有价值 (e.g. 它仅用于治理)，那它可以使用 DOT 来激励收集人。
2. 平行线程协议补贴。平行线程可以创建新代币，为收集人提供额外的奖励。 或许为平行线程创建代币的数量将是按时间函数決定。 包含在中继链中的平行线程区块传递的时间愈多，平行线程愿意补贴的代币越多使區塊被寫入的機會提高。 创建币过程的具体实施可以是通过本地的通胀或通过国库等资金储备。

收集人可能会收取该平行线程的币作支付。但是中继链仅接收 Polkadot  (DOT) 进行交易。收集人必须提交所有出价的候选区块以 DOT 表示，这意味着如果平行线程提供本地币，收集人将需要了解此币与 DOT 之间的汇率，以便在中继链上放置适当的 DOT 出价并确保它们获利。

## 平行链插槽交换

拥有平行链插槽的平行链可能会用平行线程交换该插槽，以使平行线程"升级"为完整的平行链，并将平行链成为平行线程。同样这为租约期末且没有足够使用量来证明续约的平行链提供了一个良好的脱链机制。它们可以在中继链上保持注册状态，但仅在需要时才产生新区块。即使租用平行链插槽在经济上不再可行，平行线程仅在有需要的时侯来生产区块，从而有助于脱链后的使用问题。
